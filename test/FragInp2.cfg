process PROD  =
{
   source = FragmentInput
    {
    }

   module outA = EventStreamFileWriter
   {
     int32 max_event_size = 7000000
     int32 max_queue_depth = 5
     bool use_compression = false
     int32 compression_level = 1

     string fileName = "storageManagerA.dat"
     string indexFileName = "storageManagerA.ind"
     // these are only valid for online storage manager
     string filePath = "/scratch2/cheung"
     string mailboxPath = "/scratch2/cheung/mbox"
     string setupLabel = "mtcc"
     string streamLabel = "A"
     // maxSize parameter now has units of MByte
     //int32 maxSize = 1024
     int32 maxSize =    512
     double highWaterMark = 0.9

     //untracked PSet SelectEvents = { vstring SelectEvents={"p1"}}
   }

   module outB = EventStreamFileWriter
   {
     int32 max_event_size = 7000000
     int32 max_queue_depth = 5
     bool use_compression = false
     int32 compression_level = 1

     string fileName = "storageManagerB.dat"
     string indexFileName = "storageManagerB.ind"
     // these are only valid for online storage manager
     string filePath = "/scratch2/cheung"
     string mailboxPath = "/scratch2/cheung/mbox"
     string setupLabel = "mtcc"
     string streamLabel = "A"
     // maxSize parameter now has units of MByte
     //int32 maxSize = 1024
     int32 maxSize =    512
     double highWaterMark = 0.9

     //untracked PSet SelectEvents = { vstring SelectEvents={"p1"}}
   }

   module a1 = StreamThingAnalyzer { string product_to_get="m1" }

   path p1 = { a1 }
   endpath e1 = { outA}
   endpath e2 = {outB}

}

