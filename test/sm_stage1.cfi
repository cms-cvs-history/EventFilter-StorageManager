process SM  = {

  source = FragmentInput { }

  module out = EventStreamFileWriter
   {
     int32 max_event_size = 7000000
     int32 max_queue_depth = 5
     bool use_compression = false
     int32 compression_level = 1

     string fileName = "storageManager"
     string indexFileName = "storageManager.ind"
     // these are only valid for online storage manager
     string filePath = "/scratch2/cheung"
     string mailboxPath = "/scratch2/cheung/mbox"
     string setupLabel = "mtcc"
     string streamLabel = "A"
     //int32 maxSize = 1073741824
     int32 maxSize =    536870912
     double highWaterMark = 0.9
     double lumiSectionTimeOut = 10.0

     untracked PSet SelectEvents = { vstring SelectEvents={"p1"}}
   }

   module out2 = EventStreamFileWriter
   {
     int32 max_event_size = 7000000
     int32 max_queue_depth = 5
     bool use_compression = false
     int32 compression_level = 1

     string fileName = "storageManager"
     string indexFileName = "storageManager.ind"
     // these are only valid for online storage manager
     string filePath = "/scratch2/cheung"
     string mailboxPath = "/scratch2/cheung/mbox"
     string setupLabel = "mtcc"
     string streamLabel = "B"
     int32 maxSize = 1073741824
     double highWaterMark = 0.9
     double lumiSectionTimeOut = 10.0

     untracked PSet SelectEvents = { vstring SelectEvents={"p2"}}
   }

   module out3 = EventStreamFileWriter
   {
     int32 max_event_size = 7000000
     int32 max_queue_depth = 5
     bool use_compression = false
     int32 compression_level = 1

     string fileName = "storageManager"
     string indexFileName = "storageManager.ind"
     // these are only valid for online storage manager
     string filePath = "/scratch2/cheung"
     string mailboxPath = "/scratch2/cheung/mbox"
     string setupLabel = "mtcc"
     string streamLabel = "C"
     int32 maxSize = 1073741824
     double highWaterMark = 0.9
     double lumiSectionTimeOut = 10.0

     untracked PSet SelectEvents = { vstring SelectEvents={"p3"}}
   }

   endpath e1 = { out }
   endpath e2 = { out2 }
   endpath e3 = { out3 }


}
